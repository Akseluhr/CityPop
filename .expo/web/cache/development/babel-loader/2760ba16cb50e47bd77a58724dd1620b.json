{"ast":null,"code":"var data = [];\n\nvar fetchGeoData = function fetchGeoData(userInput) {\n  var request = new XMLHttpRequest();\n  var result;\n  request.open(\"GET\", \"http://api.geonames.org/searchJSON?q=\" + userInput + \"&maxRows=100&username=weknowit\");\n  request.send();\n\n  request.onload = function () {\n    console.log(request);\n\n    if (request.status == 200) {\n      data.push(JSON.parse(request.response));\n      console.log(\"data 11\", data);\n    } else {\n      console.log('error');\n    }\n  };\n\n  console.log(\"DATAAA\", data);\n};\n\nvar filterAndSortResult = function filterAndSortResult(isCountrySearch, data) {\n  if (isCountrySearch) {\n    data = fetchGeoData();\n    console.log(\"hej\", data[0]['population']);\n  }\n};\n\nvar getSearchResults = function getSearchResults(isCountrySearch, userInput) {\n  var data = filterAndSortResult(isCountrySearch, data);\n  console.log(data);\n};\n\nexport { getSearchResults };","map":{"version":3,"sources":["/Users/akseluhr/Documents/GitHub/CityPop/fetchData.js"],"names":["data","fetchGeoData","userInput","request","XMLHttpRequest","result","open","send","onload","console","log","status","push","JSON","parse","response","filterAndSortResult","isCountrySearch","getSearchResults"],"mappings":"AAAA,IAAIA,IAAI,GAAG,EAAX;;AAEA,IAAMC,YAAY,GAAG,SAAfA,YAAe,CAACC,SAAD,EAAc;AACjC,MAAIC,OAAO,GAAG,IAAIC,cAAJ,EAAd;AACA,MAAIC,MAAJ;AACAF,EAAAA,OAAO,CAACG,IAAR,CAAa,KAAb,EAAoB,0CAAwCJ,SAAxC,GAAkD,gCAAtE;AACAC,EAAAA,OAAO,CAACI,IAAR;;AACAJ,EAAAA,OAAO,CAACK,MAAR,GAAiB,YAAM;AACrBC,IAAAA,OAAO,CAACC,GAAR,CAAYP,OAAZ;;AACA,QAAGA,OAAO,CAACQ,MAAR,IAAkB,GAArB,EAAyB;AACvBX,MAAAA,IAAI,CAACY,IAAL,CAAUC,IAAI,CAACC,KAAL,CAAWX,OAAO,CAACY,QAAnB,CAAV;AACAN,MAAAA,OAAO,CAACC,GAAR,CAAY,SAAZ,EAAuBV,IAAvB;AAED,KAJD,MAKI;AACFS,MAAAA,OAAO,CAACC,GAAR,CAAY,OAAZ;AACD;AACF,GAVD;;AAWAD,EAAAA,OAAO,CAACC,GAAR,CAAY,QAAZ,EAAsBV,IAAtB;AACD,CAjBD;;AAoBA,IAAMgB,mBAAmB,GAAG,SAAtBA,mBAAsB,CAACC,eAAD,EAAkBjB,IAAlB,EAA0B;AACpD,MAAGiB,eAAH,EAAmB;AACjBjB,IAAAA,IAAI,GAAGC,YAAY,EAAnB;AACAQ,IAAAA,OAAO,CAACC,GAAR,CAAY,KAAZ,EAAmBV,IAAI,CAAC,CAAD,CAAJ,CAAQ,YAAR,CAAnB;AAED;AACF,CAND;;AAOA,IAAMkB,gBAAgB,GAAG,SAAnBA,gBAAmB,CAACD,eAAD,EAAkBf,SAAlB,EAAgC;AACvD,MAAIF,IAAI,GAAGgB,mBAAmB,CAACC,eAAD,EAAkBjB,IAAlB,CAA9B;AAEAS,EAAAA,OAAO,CAACC,GAAR,CAAYV,IAAZ;AACD,CAJD;;AAKA,SAAQkB,gBAAR","sourcesContent":["let data = []\n\nconst fetchGeoData = (userInput) =>{\n  let request = new XMLHttpRequest();\n  let result;\n  request.open(\"GET\", \"http://api.geonames.org/searchJSON?q=\"+userInput+\"&maxRows=100&username=weknowit\")\n  request.send();\n  request.onload = () => {\n    console.log(request);\n    if(request.status == 200){\n      data.push(JSON.parse(request.response))\n      console.log(\"data 11\", data)\n      //result = filterAndSortResult(isCountrySearch, data) \n    }\n    else{\n      console.log('error')\n    }\n  }\n  console.log(\"DATAAA\", data)\n}\n\n\nconst filterAndSortResult = (isCountrySearch, data) =>{\n  if(isCountrySearch){\n    data = fetchGeoData()\n    console.log(\"hej\", data[0]['population'])\n    //return data['geonames'][0]['population'];\n  }\n}\nconst getSearchResults = (isCountrySearch, userInput) => {\n  var data = filterAndSortResult(isCountrySearch, data)\n  //let result = filterAndSortResult(isCountrySearch, data)\n  console.log(data)\n}\nexport {getSearchResults};\n\n\n\n/* Didn't work\n\nconst fetchGeoData1 = () =>Â {\n    fetch('http://api.geonames.org/searchJSON?q=london&maxRows=10&username=weknowit')\n      .then(response => response.json)\n      .then(data => console.log(data));\n    }\n\n*/"]},"metadata":{},"sourceType":"module"}